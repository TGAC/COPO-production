<!DOCTYPE html>
<html lang="en">
{% load compress %}
{% load static %}
{% load html_tags %}
{% load web_tags %}
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=10">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Collaborative OPen Omics (COPO) project team">
    <meta name="description" content="{% block meta_description %}COPO supports members of the life sciences community in brokering, managing, and submitting omics data and metadata to public repositories.{% endblock %}">
    <title>{% block title %}{% endblock %} | COPO</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" media="print" onload="this.media='all'"
          href="{% static 'copo/css/bootstrap/bootstrap.min.css' %}">
    <link rel="stylesheet" media="print" onload="this.media='all'"
          href="{% static 'copo/css/bootstrap/bootstrap-dialog.css' %}">
    <link rel="stylesheet" media="print" onload="this.media='all'"
          href="{% static 'copo/css/bootstrap/dropdowns-enhancement.css' %}">
    <link rel="stylesheet" media="print" onload="this.media='all'"
          href="{% static 'copo/css/bootstrap/bootstrap-theme.css' %}">
    <link rel="stylesheet" media="print" onload="this.media='all'"
          href="{% static 'copo/bootstrap_switch/css/bootstrap-switch.css' %}">
    <link rel="stylesheet" media="print" onload="this.media='all'" href="{% static 'copo/fuelux/css/fuelux.css' %}">
    <link rel="stylesheet" media="print" onload="this.media='all'"
          href="{% static 'copo/rangeslider/rangeslider.css' %}">
    <link rel="stylesheet" media="print" onload="this.media='all'" href="{% static 'copo/css/copo/style.css' %}">
    <link rel="stylesheet" media="print" onload="this.media='all'" href="{% static 'assets/css/navbar.css' %}">
    <link rel="stylesheet" media="print" onload="this.media='all'" href="{% static 'copo/css/copo/menu.css' %}">
    <link rel="stylesheet" media="print" onload="this.media='all'"
          href="{% static 'copo/autocomplete.js-2.1.0/autocomplete.css' %}">
    <link rel="stylesheet" media="print" onload="this.media='all'"
          href="{% static 'copo/webui_popover/jquery.webui-popover.css' %}">
    <link rel="stylesheet" media="print" onload="this.media='all'"
          href="{% static 'copo/css/copo/pretty-checkbox.min.css' %}">
    <link rel="stylesheet" media="print" onload="this.media='all'"
          href="{% static 'copo/select2-405/css/select2.min.css' %}">

    <!-- Font Awesome -->
    <link rel="stylesheet" media="print" onload="this.media='all'"
          href="{% static 'copo/css/fontawesome/fontawesome-6.5.1.min.css' %}">
    {#    <link rel="stylesheet" href="{% static 'copo/css/awesome/css/awesome-bootstrap-checkbox.css' %}">#}

    <!-- Selectize Components -->
    <link rel="stylesheet" media="print" onload="this.media='all'"
          href="{% static 'copo/selectize/selectize.bootstrap3.css' %}">

    <link rel="stylesheet" type="text/css"
          href="https://cdn.datatables.net/v/bs/jszip-2.5.0/dt-1.13.1/b-2.3.3/b-html5-2.3.3/kt-2.8.0/rg-1.3.0/sl-1.5.0/datatables.min.css"/>

    <!-- Google Fonts -->
    <link href="{% static 'copo/css/copo/fonts.css' %}" rel='stylesheet' type='text/css'>

    <script src="{% static 'copo/js/jquery-3.7.1.min.js' %}"></script>
    <script src="{% static 'copo/js/jquery-ui.min.js' %}"></script>

    <script src="{% static 'copo/semantic_ui/semantic.min.js' %}"></script>
    <script src="{% static 'copo/autocomplete.js-2.1.0/autocomplete.min.js' %}"></script>
    <script src="{% static 'copo/js/jquery.cookie.js' %}"></script>
    <script src="{% static 'copo/js/serialize_form_json.js' %}"></script>
    <script src="{% static 'copo/js/bootstrap.js' %}"></script>
    <script src="{% static 'copo/js/bootstrap-dialog.js' %}"></script>
    <script src="{% static 'copo/js/bootstrap-dialog.js' %}"></script>
    <script src="{% static 'copo/js/dropdowns-enhancement.js' %}"></script>
    <script src="{% static 'copo/selectize/standalone/selectize.min.js' %}"></script>
    <script src="{% static 'copo/bootstrap_switch/js/bootstrap-switch.js' %}"></script>
    <script src="{% static 'copo/fuelux/js/fuelux.min.js' %}"></script>
    <script src="{% static 'copo/validator1000hz/validator.min.js' %}"></script>
    <script src="{% static 'copo/rangeslider/rangeslider.min.js' %}"></script>
    <script src="{% static 'copo/js/jquery.alterclass.js' %}"></script>

    <script src="{% static 'copo/js/base.js' %}"></script>
    <script type="text/javascript"
            src="https://cdn.datatables.net/v/bs/jszip-2.5.0/dt-1.13.1/b-2.3.3/b-html5-2.3.3/kt-2.8.0/rg-1.3.0/sl-1.5.0/datatables.min.js"></script>

    <script src="{% static 'copo/search_highlight/dataTables.searchHighlight.min.js' %}"></script>
    <script src="{% static 'copo/search_highlight/jquery.highlight.js' %}"></script>
    <script src="{% static 'copo/bootstrap-datepicker-1.6.4-dist/js/bootstrap-datepicker.min.js' %}"></script>
    <script src="{% static 'copo/webui_popover/jquery.webui-popover.min.js' %}"></script>
    <script src="{% static 'copo/select2-405/js/select2.min.js' %}"></script>
    <script src="{% static 'copo/semantic_ui/components/dropdown.min.js' %}"></script>
    <script src="{% static 'copo/semantic_ui/components/popup.min.js' %}"></script>
    <script src="{% static 'copo/reconnecting-websocket-master/reconnecting-websocket.min.js' %}"></script>
    <script src="{% static 'copo/js/fastdom.js' %}"></script>

    <!-- Semantic UI -->
    <link rel="stylesheet" media="print" onload="this.media='all'"
          href="{% static 'copo/semantic_ui/semantic.min.css' %}">
    <link rel="stylesheet" media="print" onload="this.media='all'"
          href="{% static 'copo/semantic_ui/components/icon.min.css' %}">
    <link rel="stylesheet" media="print" onload="this.media='all'"
          href="{% static 'copo/semantic_ui/components/dropdown.min.css' %}">
    <link rel="stylesheet" media="print" onload="this.media='all'"
          href="{% static 'copo/semantic_ui/components/popup.min.css' %}">

    <!-- Banner css -->
    <link href="/static/assets/css/base_banner.css" rel="stylesheet" />

    <!-- General colours -->
    <link href="{% static 'copo/css/copo/colours.css' %}" rel="stylesheet" >
    
    <!-- Icons -->
    <link rel="stylesheet" href="{% static 'copo/css/copo/icons.css' %}">

    <script>
    {% include 'copo/copo_profile_types.html' %}
    </script>

    <!-- Additional javascripts -->
    {% block js_block %}{% endblock %}

    <link rel="stylesheet" href="{% static 'copo/css/jquery/jquery-ui.min.css' %}">
    <!-- Date picker components -->
    <link rel="stylesheet" href="{% static 'copo/css/datepicker/jquery.datepick.css' %}">
    <script src="{% static 'copo/js/datepicker/jquery.plugin.min.js' %}"></script>
    <script src="{% static 'copo/js/datepicker/jquery.datepick.min.js' %}"></script>

    <!-- favicon -->
    <link rel="icon" type="image/png" href="{% static 'copo/img/favicon_black.png' %}"/>

    <!-- PAGE LEVEL STYLES -->
    {% block stylesheet_block %}{% endblock %}

    <!-- SASS styles -->
    {% compress css %}
        <link rel="stylesheet" type="text/scss" href="{% static 'copo/css/copo/colors/sass.scss' %}"/>
    {% endcompress %}

    <script>
        $(document).ready(function () {
            $("#bell_notification").popover({
                html: true,
                content: function () {
                    return $("#hidden_notification").html();
                },
            })

            //global search box
            $("#global_search_form").submit(function (event) {
                event.preventDefault();

                $(this).find("input:text").each(function () {
                    console.log($(this).val()); //search term
                    $(this).val('');
                });
            });//end global search

            //suspended toggle
            $(document).on('click', '.dropdown-menu', function (e) {
                if ($(this).hasClass('keep-open-on-click')) {
                    e.stopPropagation();
                }
            });
            //end suspended toggle


            $(document).on("click", "#trigger-notifications", function (event) {
                trigger_global_notification();
            });
        });

        function trigger_global_notification() {
            var infoPanelElement = $("#page_alert_panel");

            if (infoPanelElement.length) {
                //reveal tab if not already shown
                $('.copo-sidebar-tabs a[href="#copo-sidebar-info"]').tab('show');

                return infoPanelElement
            }
        }
    </script>

    <style type="text/css">
        .selectize-control.onto-select::before {
            -moz-transition: opacity 0.2s;
            -webkit-transition: opacity 0.2s;
            transition: opacity 0.2s;
            content: ' ';
            z-index: 2;
            position: absolute;
            display: block;
            top: 12px;
            right: 34px;
            width: 16px;
            height: 16px;
            background: url("{% static 'copo/img/ajax_loader1.gif' %}");
            background-size: 16px 16px;
            opacity: 0;
        }

        .hidden {
            display: none;
        }

        .selectize-control.onto-select.loading::before {
            opacity: 0.4;
        }

        .selectize-control.copo-lookup::before {
            -moz-transition: opacity 0.2s;
            -webkit-transition: opacity 0.2s;
            transition: opacity 0.2s;
            content: ' ';
            z-index: 2;
            position: absolute;
            display: block;
            top: 12px;
            right: 34px;
            width: 16px;
            height: 16px;
            background: url("{% static 'copo/img/ajax_loader1.gif' %}");
            background-size: 16px 16px;
            opacity: 0;
        }

        .selectize-control.copo-lookup.loading::before {
            opacity: 0.4;
        }

        .selectize-control.general-onto::before {
            -moz-transition: opacity 0.2s;
            -webkit-transition: opacity 0.2s;
            transition: opacity 0.2s;
            content: ' ';
            z-index: 2;
            position: absolute;
            display: block;
            top: 12px;
            right: 34px;
            width: 16px;
            height: 16px;
            background: url("{% static 'copo/img/loading.gif' %}");
            background-size: 16px 16px;
            opacity: 0;
        }

        .selectize-control.general-onto.loading::before {
            opacity: 0.9;
        }

        .navbar-header {
            max-height: 55px;
        }

        .empty_colour {
            background-color: #f7eded;
        }
    </style>
</head>

<body class="{% if banner %}has-banner{% endif %}">
<!-- hidden fields -->
<input type="hidden" id="elastic_search_ajax" value="{# url 'copo:ajax_search_ontology' ontology_names='999' #}"/>
<input type="hidden" id="ajax_search_copo_local" value="{# url 'copo:ajax_search_copo_local' data_source='999' #}"/>
<!-- end hidden fields -->

<!-- template components -->
{% include "components_template.html" %}
<!-- end template components -->

<!-- cookie modal -->
{% include "component_cookie_modal.html"%}
<!-- end cookie modal -->

<div id="hidden_notification" class="hidden">
    <div>
        Message Received:<br/>{{ created }}</div>
    <br/>
    <b>{{ latest_message }}</b>
</div>

<!-- Top navigation bar (authenticated)-->
{% include "nav_authenticated.html"%}

{% block page_banner %}
    <!-- filter tag to check if there are partial submissions -->
    {% comment %}
        {{ partial_submissions|partial_submission_banner }}
    {% endcomment %}
{% endblock %}

{% block content_area %}
    {#    this block will be inherited by one of two page types i.e., single column (base_1col.html), two columns (base_2col.html - for fixed side navbar) #}
    {#    include either of the two templates (inheriting this base template) in your working page and not the base.html directly. #}
{% endblock content_area %}

</body>
</html>
